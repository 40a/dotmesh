{
    "createrepo.md": [
        {
            "type": "html",
            "text": "## Create a Repository\n\nTo create a new repository:\n\n",
            "html": "<h2 id=\"create-a-repository\">Create a Repository</h2>\n<p>To create a new repository:</p>\n"
        },
        {
            "type": "code",
            "language": "bash",
            "text": "$ dm init ${USER_NAME}/apples\n$ dm list\n",
            "code": "$ dm init ${USER_NAME}/apples\n$ dm list"
        },
        {
            "type": "html",
            "text": "",
            "html": ""
        }
    ],
    "install.md": [
        {
            "type": "html",
            "text": "## Install Datamesh\n\nThese commands will install the `dm` binary onto your system and start a new cluster:\n\n",
            "html": "<h2 id=\"install-datamesh\">Install Datamesh</h2>\n<p>These commands will install the <code>dm</code> binary onto your system and start a new cluster:</p>\n"
        },
        {
            "type": "code",
            "language": "bash",
            "text": "$ sudo curl -o /usr/local/bin/dm \\\n    https://get.datamesh.io/$(uname -s)/dm\n$ sudo chmod +x /usr/local/bin/dm\n$ dm cluster init\nInstalling datamesh server in a container... done.\nConfiguring dm CLI to authenticate to datamesh server... done.\nHere is your key to add other nodes:\nhttps://discovery.datamesh.io/22fd02ea1e89bad78a92c35a2e268044\nYou can use 'dm auth' to get this key later.\n$\n",
            "code": "$ sudo curl -o /usr/local/bin/dm \\\n    https://get.datamesh.io/$(uname -s)/dm\n$ sudo chmod +x /usr/local/bin/dm\n$ dm cluster init\nInstalling datamesh server in a container... done.\nConfiguring dm CLI to authenticate to datamesh server... done.\nHere is your key to add other nodes:\nhttps://discovery.datamesh.io/22fd02ea1e89bad78a92c35a2e268044\nYou can use 'dm auth' to get this key later.\n$"
        },
        {
            "type": "html",
            "text": "",
            "html": ""
        }
    ],
    "quickstart.md": [
        {
            "type": "html",
            "text": "## Quickstart\n\n### Install\n\n",
            "html": "<h2 id=\"quickstart\">Quickstart</h2>\n<h3 id=\"install\">Install</h3>\n"
        },
        {
            "type": "code",
            "language": "bash",
            "text": "$ sudo curl -o /usr/local/bin/dm \\\n    https://get.datamesh.io/$(uname -s)/dm\n$ sudo chmod +x /usr/local/bin/dm\n$ dm cluster init\n",
            "code": "$ sudo curl -o /usr/local/bin/dm \\\n    https://get.datamesh.io/$(uname -s)/dm\n$ sudo chmod +x /usr/local/bin/dm\n$ dm cluster init"
        },
        {
            "type": "html",
            "text": "### Connect Remote\n\n",
            "html": "<h3 id=\"connect-remote\">Connect Remote</h3>\n"
        },
        {
            "type": "code",
            "language": "bash",
            "text": "$ dm remote add mycluster ${USER_NAME}@${SERVER_NAME}\n$ # enter password\n$ dm remote switch mycluster\n$ dm remote -v\n",
            "code": "$ dm remote add mycluster ${USER_NAME}@${SERVER_NAME}\n$ # enter password\n$ dm remote switch mycluster\n$ dm remote -v"
        },
        {
            "type": "html",
            "text": "### Create a Repository\n\n",
            "html": "<h3 id=\"create-a-repository\">Create a Repository</h3>\n"
        },
        {
            "type": "code",
            "language": "bash",
            "text": "$ dm init ${USER_NAME}/apples\n$ dm list\n",
            "code": "$ dm init ${USER_NAME}/apples\n$ dm list"
        },
        {
            "type": "html",
            "text": "",
            "html": ""
        }
    ],
    "runcontainer.md": [
        {
            "type": "html",
            "text": "## Running a container\n\nTo run a container with a datamesh volume:\n\n",
            "html": "<h2 id=\"running-a-container\">Running a container</h2>\n<p>To run a container with a datamesh volume:</p>\n"
        },
        {
            "type": "code",
            "language": "bash",
            "text": "$ docker run -d -v ${USER_NAME}/mydata:/var/lib/mysql \\\n    --volume-driver=dm --name=db \\\n    -e MYSQL_ROOT_PASSWORD=secret mysql\n87fec9853dff4d6fad140e23e98845bda9faa7a1c8d63e\n$ dm switch ${USER_NAME}/mydata\n$ dm list\nCurrent remote: default\n\n  VOLUME                SERVER          BRANCH   CONTAINERS\n* ${USER_NAME}/mydata   172.16.93.101   master   /db\n$\n",
            "code": "$ docker run -d -v ${USER_NAME}/mydata:/var/lib/mysql \\\n    --volume-driver=dm --name=db \\\n    -e MYSQL_ROOT_PASSWORD=secret mysql\n87fec9853dff4d6fad140e23e98845bda9faa7a1c8d63e\n$ dm switch ${USER_NAME}/mydata\n$ dm list\nCurrent remote: default\n\n  VOLUME                SERVER          BRANCH   CONTAINERS\n* ${USER_NAME}/mydata   172.16.93.101   master   /db\n$"
        },
        {
            "type": "html",
            "text": "Then write some data:\n\n\n",
            "html": "<p>Then write some data:</p>\n"
        },
        {
            "type": "code",
            "language": "bash",
            "text": "$ dm commit -m \"No database\"\n$ docker run --link db:db -ti mysql \\\n    mysql -hdb -uroot -psecret\nmysql> create database hello;\nmysql> use hello;\nmysql> create table countries (name varchar(255));\nmysql> exit;\n$ dm commit -m \"Created hello database and countries table\"\n$ dm checkout -b newbranch\n$ docker run --link db:db -ti mysql \\\n    mysql -hdb -uroot -psecret hello\nmysql> insert into countries set name=\"england\";\nQuery OK, 1 row affected (0.01 sec)\n\nmysql> exit;\n$ dm commit -m \"Inserted england row\"\n$ dm checkout master\n$ docker run --link db:db -ti mysql \\\n    mysql -hdb -uroot -psecret hello\nmysql> select * from countries;\nEmpty set (0.00 sec)\n",
            "code": "$ dm commit -m \"No database\"\n$ docker run --link db:db -ti mysql \\\n    mysql -hdb -uroot -psecret\nmysql> create database hello;\nmysql> use hello;\nmysql> create table countries (name varchar(255));\nmysql> exit;\n$ dm commit -m \"Created hello database and countries table\"\n$ dm checkout -b newbranch\n$ docker run --link db:db -ti mysql \\\n    mysql -hdb -uroot -psecret hello\nmysql> insert into countries set name=\"england\";\nQuery OK, 1 row affected (0.01 sec)\n\nmysql> exit;\n$ dm commit -m \"Inserted england row\"\n$ dm checkout master\n$ docker run --link db:db -ti mysql \\\n    mysql -hdb -uroot -psecret hello\nmysql> select * from countries;\nEmpty set (0.00 sec)"
        }
    ]
}
